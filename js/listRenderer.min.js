// CyborgDesigner v20260108
// (c) 2025 Cyborg Unicorn Pty Ltd.
// This software is released under MIT License.

/*jsl:ignore*/

function listRenderer(m,O,P){function k(a){if(m_blnEnableDebug){var b=(new Date).toISOString().substr(11,12),c=d.element("#output");if(0<c.length){c.show();var g=c.text();0<g.length?c.text(g+"\n["+b+"] ["+f+"] "+a):c.text("["+b+"] ["+f+"] "+a)}}}function aa(){if("EXPAND"===y)return 9999;var a=d.element("#"+f).height(),b=0,c=0,g=b=0,c=0;if(a&&0!==a){c="PAGED"===y?60:0;g=a-70-c;if("GALLERY"===L)return b=G.Y+40,c=Math.floor((d.element("#"+f).width()-40)/(G.X+10))||4,b=Math.floor(g/b)||3,"CONTINUOUS"===
y&&(b+=2),b*c;b=Math.floor((g-40)/40);"CONTINUOUS"===y&&(b+=5);return Math.max(b,5)}return"GALLERY"===L?24:20}function ba(a){for(var b=0,c=-1,b=0;b<l.length;b++)if(l[b].code===a){c=b;break}return c}function ca(a,b){var c="&nbsp;";if(null!==a&&void 0!==a&&""!==a)switch(b){case "BOOLEAN":c=a?"Yes":"No";break;case "DATE":c=(new Date(a)).toLocaleDateString();break;case "NUMBER":c=a.toString();break;default:c=a.toString()}return c}function M(){x=null;Q=[];d.element("#"+f,".gscr-list-row-selected").removeClass("gscr-list-row-selected");
I()}function R(a){na?Q=[a]:x=a;I()}function I(){for(var a=0,b=null,c=null!==x||0<Q.length,a=0;a<N.length;a++)b=N[a],b.requiresselection&&!c?d.element("#"+f,".ge-operation-"+b.code).prop("disabled",!0):d.element("#"+f,".ge-operation-"+b.code).prop("disabled",!1)}function S(a){var b={parameters:[{name:"offset",value:v.toString()},{name:"limit",value:F.toString()},{name:"search",value:T},{name:"order",value:JSON.stringify(D)}]},c=!1;U&&"function"===typeof U?U(b,function(b){c=!0;b&&b.control&&(V(b),a&&
"function"===typeof a&&a())}):d.callServer&&d.callServer(da,b,function(b){c=!0;b&&b.control&&(V(b),a&&"function"===typeof a&&a())});!c&&(a&&"function"===typeof a)&&a()}function V(a){z=a.control||{};void 0!==z.offset&&(v=z.offset);void 0!==z.limit&&(F=z.limit);N=a.operations||[];l=a.fields||[];h=a.data||[];if(s||p||w){a=!1;for(var b=0,b=0;b<l.length;b++)if("STATUS"===l[b].code){a=!0;break}if(!a){l.unshift({code:"STATUS",caption:"Status",type:"STRING",visible:!1,sortable:!1,editable:!1});for(b=0;b<
h.length;b++)h[b].unshift("")}}}function H(a){var b=null;0<=a&&a<h.length&&(b=h[a][0]);return b}function E(a,b){0<=a&&a<h.length&&(h[a][0]=b)}function X(a){k("commitInterimRow: rowIndex="+a);var b=!0;if(0<=a&&a<h.length){var c=H(a);k("commitInterimRow: status="+c);if("I"===c){var c=h[a],g=c[1];k("commitInterimRow: calling onRowAddNew callback");ea?(b=ea(c,g),k("commitInterimRow: callback returned "+b)):k("commitInterimRow: no callback, defaulting to true");b?(E(a,"N"),k("commitInterimRow: accepted, promoted to N")):
(h.splice(a,1),k("commitInterimRow: rejected, row removed"))}else k("commitInterimRow: not interim, returning true")}else k("commitInterimRow: rowIndex out of bounds, returning true");return b}function Y(){if(0<=n&&0<=A&&q){var a=q.val(),b=h[n][A]||"";h[n][A]=a;if(String(a)!==String(b)){var c=n,g=H(c),t=!0;if("I"===g)t=!0;else if("N"===g)t=!0;else if("D"!==g){var g=h[c],B=g[s||p||w?1:0];fa&&(t=fa(g,B));t&&E(c,"U")}t||(a=h[n][A]=b)}b=d.element("#"+f+' .ge-list-row[data-row-index="'+n+'"] td[data-field-index="'+
A+'"]');0<b.length&&b.html(ca(a,l[A].type));0<=n&&n<h.length&&(a=h[n][0],b=d.element("#"+f+' .ge-list-row[data-row-index="'+n+'"]'),b.removeClass("gscr-row-new gscr-row-updated gscr-row-deleted"),"N"===a?b.addClass("gscr-row-new"):"U"===a?b.addClass("gscr-row-updated"):("D"===a||"DU"===a||"ND"===a)&&b.addClass("gscr-row-deleted"));q&&q.hide()}A=n=-1}function oa(){var a,b,c;if(!q){var g="ge-floating-editor-"+pa;d.element("body").append('<input type="text" id="'+g+'" class="ge-floating-editor gscr-floating-editor form-control" style="position: absolute; z-index: 1000; display: none;" />');
q=d.element("#"+g);q.on("blur",function(){setTimeout(function(){Y()},100)});q.on("keydown",function(g){if(13===g.keyCode||40===g.keyCode)g.preventDefault(),g=n,d=A,g<h.length-1?u(g+1,d):p?(a=h.length,u(a,d)):u(g,d);else if(38===e.keyCode)e.preventDefault(),g=n,d=A,0<g?u(g-1,d):u(g,d);else if(27===e.keyCode)e.preventDefault(),q&&q.hide(),A=n=-1;else if(9===e.keyCode){e.preventDefault();g=n;var d=A;if(e.shiftKey){for(var d=d-1,f=!1;1<=d&&!f;)l[d].visible&&(u(g,d),f=!0),d--;if(!f&&0<g)for(d=l.length-
1;1<=d&&!f;d--)l[d].visible&&(u(g-1,d),f=!0);else if(!f)for(d=1;d<l.length&&!f;d++)l[d].visible&&(u(0,d),f=!0)}else{for(var f=d+1,k=!1;f<l.length&&!k;)l[f].visible&&(u(g,f),k=!0),f++;if(!k&&g<h.length-1)for(f=1;f<l.length&&!k;f++)l[f].visible&&(u(g+1,f),k=!0);else if(!k&&p){a=h.length;for(f=1;f<l.length&&!k;f++)l[f].visible&&(u(a,f),k=!0)}else k||u(g,d)}}else if(36===e.keyCode){e.preventDefault();b=0;c=!1;for(b=1;b<l.length&&!c;b++)l[b].visible&&(u(0,b),c=!0)}else if(35===e.keyCode&&(e.preventDefault(),
g=h.length-1,b=0,c=!1,0<=g))for(b=l.length-1;1<=b&&!c;b--)l[b].visible&&(u(g,b),c=!0)})}}function u(a,b){k("startEdit: row="+a+", col="+b);var c=null;if(s||p)if((c=l[b])&&0!==b){q&&q.hide();var g=n;k("startEdit: previousRow="+g);0<=n&&(k("startEdit: committing current edit"),Y());0<=g&&g!==a&&(k("startEdit: moving to different row, committing interim row "+g),X(g)||(k("startEdit: interim rejected and removed, re-rendering"),r.render(),a>g&&(k("startEdit: adjusting target row from "+a+" to "+(a-1)),
a--)));if(a>=h.length&&p){k("startEdit: editing blank row, adding new row");k("addNewRow: creating new interim row");var t=["I"],B=0,g="NEW_"+Date.now();t.push(g);for(B=2;B<l.length;B++)t.push("");h.push(t);t=h.length-1;k("addNewRow: row added at index "+t+" with ID "+g);a=t;r.render()}n=a;A=b;oa();B=d.element("#"+f+' .ge-list-row[data-row-index="'+a+'"] td[data-field-index="'+b+'"]');0<B.length&&(g=B.offset(),t=B.outerWidth(),B=B.outerHeight(),q.css({left:g.left+"px",top:g.top+"px",width:t+"px",
height:B+"px"}),g="",a<h.length&&(g=h[a][b]||""),q.val(g),!1===c.editable?(q.attr("readonly","readonly"),k("startEdit: field is readonly, editor set to readonly")):q.removeAttr("readonly"),q.show(),q.focus(),q.select())}else k("startEdit: field not valid or is row selector, returning");else k("startEdit: editing not allowed, returning")}function ga(){var a="";if(ha){for(var b=0,c=null,g=null!==x||0<Q.length,a=a+'<div class="gscr-list-toolbar"><div class="gscr-toolbar-search">',a=a+('<input type="text" class="ge-list-search form-control" placeholder="Search..." value="'+
T+'">'),a=a+'<button class="ge-list-clear btn btn-secondary" title="Clear search">\u00d7</button>',a=a+'<button class="ge-list-refresh btn btn-secondary" title="Refresh">\u27f3</button>',a=a+"</div>",a=a+'<div class="gscr-toolbar-operations">',b=0;b<N.length;b++)c=N[b],a+='<button class="ge-operation ge-operation-'+c.code+' btn btn-primary" data-operation="'+c.code+'"',c.requiresselection&&!g&&(a+=" disabled"),a+=">",a+=c.caption,a+="</button>";a+="</div>";a+="</div>"}return a}function ia(){var a,
b=0,c=0,g=null,d=null,c="",f=null;a='<tbody class="gscr-list-body">';for(b=0;b<h.length;b++){g=h[b];c=g[s||p||w?1:0]||"";d="";if(s||p||w)d=g[0]||"";a+='<tr class="ge-list-row gscr-list-row';c===x&&(a+=" gscr-list-row-selected");if("N"===d)a+=" gscr-row-new";else if("U"===d)a+=" gscr-row-updated";else if("D"===d||"DU"===d||"ND"===d)a+=" gscr-row-deleted";a+='" data-id="'+c+'" data-row-index="'+b+'">';if(s||p||w)a+='<td class="gscr-list-cell gscr-row-selector" data-row-index="'+b+'">'+(b+1)+"</td>";
for(c=0;c<l.length;c++)if(d=l[c],d.visible){f=g[c];a+='<td class="gscr-list-cell';if((s||p)&&0<c)a+=" gscr-editable-cell",!1===d.editable&&(a+=" gscr-readonly-cell");a+='" data-field-index="'+c+'">';a+=ca(f,d.type);a+="</td>"}a+="</tr>"}0===h.length&&(a+='<tr><td colspan="'+l.filter(function(a){return a.visible}).length+'" class="gscr-empty-state">No records found</td></tr>');if(p){a+='<tr class="ge-list-row gscr-list-row gscr-blank-row" data-id="" data-row-index="'+h.length+'">';if(s||p||w)a+='<td class="gscr-list-cell gscr-row-selector">*</td>';
for(c=0;c<l.length;c++)d=l[c],d.visible&&(a+='<td class="gscr-list-cell',0<c&&(a+=" gscr-editable-cell",!1===d.editable&&(a+=" gscr-readonly-cell")),a+='" data-field-index="'+c+'"><span class="gscr-placeholder">...</span></td>');a+="</tr>"}return a+"</tbody>"}function qa(){var a,b="auto";a="100%";"PAGED"===y?b="hidden":"EXPAND"===y&&(b="visible",a="auto");a=""+('<div class="gscr-list-container" style="height: '+a+';">')+ga();a+='<div class="gscr-list-scroll" style="overflow: '+b+';">';var b=a+='<table class="gscr-list-table table">',
c=0,d=null;a='<thead class="gscr-list-header"><tr>';if(s||p||w)a+='<th class="gscr-list-header-cell gscr-row-selector">&nbsp;</th>';for(c=0;c<l.length;c++)if(d=l[c],d.visible){a+='<th class="gscr-list-header-cell';a=d.sortable?a+" gscr-list-sortable gscr-sortable-active ge-list-sort":a+" gscr-list-sortable gscr-sortable-inactive";a+='" data-field="'+d.code+'">';a+=d.caption;if(d.sortable){for(var f=null,h=0,h=0;h<D.length;h++)if(D[h].fieldname===d.code){f=D[h];break}f&&(a+=' <span class="gscr-sort-indicator">',
a+=f.ascending?"\u25b2":"\u25bc",1<D.length&&(a+="<sup>"+(h+1)+"</sup>"),a+="</span>")}a+="</th>"}a+="</tr>";a+="</thead>";a=b+a;a+=ia();a+="</table>";a+="</div>";"EXPAND"!==y&&(a+=ja());return a+="</div>"}function ra(){var a="",b=0,c=null,d="",f="",c="",k=ba(ka),b="auto",d="100%";"PAGED"===y?b="hidden":"EXPAND"===y&&(b="visible",d="auto");a=a+('<div class="gscr-gallery-container" style="height: '+d+';">')+ga();a+='<div class="gscr-gallery-scroll" style="overflow: '+b+';">';a+='<div class="gscr-gallery-grid" style="grid-template-columns: repeat(auto-fill, minmax('+
G.X+'px, 1fr));">';for(b=0;b<h.length;b++)c=h[b],d=c[0]||"",0<=k&&(f=c[k]||""),c=J&&"function"===typeof J?J(c):d,a+='<div class="ge-gallery-item gscr-gallery-item',d===x&&(a+=" gscr-gallery-item-selected"),a+='" data-id="'+d+'" data-row-index="'+b+'">',a+='<div class="gscr-gallery-thumb" style="width: '+G.X+"px; height: "+G.Y+'px;">',a=f?a+('<img src="'+f+'" />'):a+'<span class="gscr-gallery-no-image">No image</span>',a+="</div>",a+='<div class="gscr-gallery-caption">',a+=c,a+="</div>",a+="</div>";
0===h.length&&(a+='<div class="gscr-empty-state" style="grid-column: 1 / -1;">No items found</div>');a+="</div>";a+="</div>";"EXPAND"!==y&&(a+=ja());return a+="</div>"}function ja(){var a="";if("PAGED"===y)var b=0<v,c=z&&z.more,d=z&&z.total?z.total:0,f=v+1,k=v+h.length,a=a+'<div class="gscr-list-pagination"><div class="gscr-pagination-info">',a=0<d?a+("Showing "+f+" to "+k+" of "+d):0<h.length?a+("Showing "+f+" to "+k):a+"No records",a=a+"</div>",a=a+'<div class="gscr-pagination-buttons">',a=a+('<button class="ge-list-first btn btn-secondary"'+
(!b?" disabled":"")+">\u27ea First</button>"),a=a+('<button class="ge-list-previous btn btn-secondary"'+(!b?" disabled":"")+">\u2039 Previous</button>"),a=a+('<button class="ge-list-next btn btn-secondary"'+(!c?" disabled":"")+">Next \u203a</button>"),a=a+"</div>",a=a+"</div>";return a}function la(){d.element("#"+f,".ge-list-search").off("keyup");d.element("#"+f,".ge-list-clear").off("click");d.element("#"+f,".ge-list-refresh").off("click");d.element("#"+f,".ge-list-sort").off("click");d.element("#"+
f,".ge-list-row").off("click");d.element("#"+f,".ge-list-row").off("dblclick");d.element("#"+f,".ge-gallery-item").off("click");d.element("#"+f,".ge-gallery-item").off("dblclick");d.element("#"+f,".ge-operation").off("click");d.element("#"+f,".ge-list-first").off("click");d.element("#"+f,".ge-list-previous").off("click");d.element("#"+f,".ge-list-next").off("click");d.element("#"+f).off("click",".gscr-editable-cell");d.element("#"+f).off("click",".gscr-row-selector");d.element("#"+f).off("keydown");
d.element("#"+f).off("focus");d.element("#"+f,".ge-list-search").on("keyup",function(a){13===a.keyCode&&(T=d.element(this).val(),v=0,M(),r.refresh(!0))});d.element("#"+f,".ge-list-clear").on("click",function(){d.element("#"+f,".ge-list-search").val("");T="";v=0;M();r.refresh(!0)});d.element("#"+f,".ge-list-refresh").on("click",function(){r.refresh(!0)});d.element("#"+f,".ge-list-sort").on("click",function(a){var c=d.element(this).data("field");a=a.shiftKey;for(var f=0,h=null,f=0;f<D.length;f++)if(D[f].fieldname===
c){h=D[f];break}a||(D=[]);h?a?h.ascending=!h.ascending:D=[{fieldname:c,ascending:!h.ascending}]:D.push({fieldname:c,ascending:!0});v=0;M();r.refresh()});if(!s&&!p&&!w)d.element("#"+f,".ge-list-row").on("click",function(){var a=d.element(this),c=a.data("id"),g=a.data("row-index"),g=h[g];d.element("#"+f,".gscr-list-row-selected").removeClass("gscr-list-row-selected");a.addClass("gscr-list-row-selected");R(c);C&&"function"===typeof C&&C(g,c)});else d.element("#"+f).on("click",".gscr-row-selector",function(a){a.stopPropagation();
a=d.element(this).closest("tr");var c=a.data("id"),g=a.data("row-index");if(!a.hasClass("gscr-blank-row")){var t=h[g];"I"===H(g)?(k("Row selector: committing interim row "+g),X(g)?(r.render(),d.element("#"+f,".gscr-list-row-selected").removeClass("gscr-list-row-selected"),a.addClass("gscr-list-row-selected"),R(c),d.element("#"+f+" .gscr-list-container, #"+f+" .gscr-gallery-container").focus(),C&&"function"===typeof C&&C(t,c)):(k("Row selector: interim row rejected and removed"),r.render())):(d.element("#"+
f,".gscr-list-row-selected").removeClass("gscr-list-row-selected"),a.addClass("gscr-list-row-selected"),R(c),d.element("#"+f+" .gscr-list-container, #"+f+" .gscr-gallery-container").focus(),C&&"function"===typeof C&&C(t,c))}});d.element("#"+f,".ge-list-row").on("dblclick",function(){var a=d.element(this).data("id"),c=d.element(this).data("row-index"),c=h[c];K&&"function"===typeof K&&K(c,a)});d.element("#"+f,".ge-gallery-item").on("click",function(){var a=d.element(this),c=a.data("id"),g=a.data("row-index"),
g=h[g];d.element("#"+f,".gscr-gallery-item-selected").removeClass("gscr-gallery-item-selected");a.addClass("gscr-gallery-item-selected");R(c);C&&"function"===typeof C&&C(g,c)});d.element("#"+f,".ge-gallery-item").on("dblclick",function(){var a=d.element(this).data("id"),c=d.element(this).data("row-index"),c=h[c];K&&"function"===typeof K&&K(c,a)});d.element("#"+f,".ge-operation").on("click",function(){var a=d.element(this).data("operation"),c=null,f=0;if(x)for(f=0;f<h.length;f++)if(h[f][0]===x){c=
h[f];break}Z&&"function"===typeof Z&&Z(a,c,x)});d.element("#"+f,".ge-list-first").on("click",function(){v=0;r.refresh()});d.element("#"+f,".ge-list-previous").on("click",function(){v=Math.max(0,v-F);r.refresh()});d.element("#"+f,".ge-list-next").on("click",function(){v+=F;r.refresh()});if("CONTINUOUS"===y)d.element("#"+f,"LIST"===L?".gscr-list-scroll":".gscr-gallery-scroll").on("scroll",function(){if(!$){var a=d.element(this).scrollTop(),c=d.element(this)[0].scrollHeight,g=d.element(this).height();
a+g>=c-100&&(z&&z.more)&&($=!0,v+=F,S(function(){if("LIST"===L){var a=ia(),a=d.element("<div>").html(a).find("tr").parent().html();d.element("#"+f,".gscr-list-body").append(a)}else{for(var a=0,b=null,c="",g="",b="",k=ba(ka),l="",a=0;a<h.length;a++)b=h[a],c=b[0]||"",0<=k&&(g=b[k]||""),b=J&&"function"===typeof J?J(b):c,l+='<div class="ge-gallery-item gscr-gallery-item" data-id="'+c+'" data-row-index="'+a+'">',l+='<div class="gscr-gallery-thumb" style="width: '+G.X+"px; height: "+G.Y+'px;">',l=g?l+('<img src="'+
g+'" />'):l+'<span class="gscr-gallery-no-image">No image</span>',l+="</div>",l+='<div class="gscr-gallery-caption">'+b+"</div>",l+="</div>";d.element("#"+f,".gscr-gallery-grid").append(l)}la();$=!1}))}});if(s||p)d.element("#"+f).on("click",".gscr-editable-cell",function(a){a.stopPropagation();var c=d.element(this);a=c.closest("tr").data("row-index");c=c.data("field-index");M();u(a,c)});if(s||p||w){d.element("#"+f+" .gscr-list-container, #"+f+" .gscr-gallery-container").attr("tabindex","0");var a=
!1;d.element("#"+f+" .gscr-list-container, #"+f+" .gscr-gallery-container").on("focus",function(b){if(!a&&0>n&&0<h.length){b=0;for(b=1;b<l.length;b++)if(l[b].visible){u(0,b);break}}});d.element("#"+f).on("mousedown",function(b){a=!0});d.element("#"+f).on("mouseup",function(b){setTimeout(function(){a=!1},100)})}if(w)d.element("#"+f).on("keydown",function(a){if(46===a.keyCode&&!a.ctrlKey&&0>n&&x){a.preventDefault();a=s||p||w?1:0;for(var c=0,c=0;c<h.length;c++)if(h[c][a]===x){if("I"!==H(c)){a=c;c=H(a);
if("D"===c)E(a,"");else if("DU"===c)E(a,"U");else if("ND"===c)E(a,"N");else{var c=void 0,d=!0,f=void 0,l=H(a),f=void 0;"I"===l&&(k("markRowDeleted: interim row, promoting to N first"),E(a,"N"),l="N");"N"===l?(f=1,c=h[a],f=c[f],W&&(d=W(c,f)),d&&E(a,"ND")):(f=s||p||w?1:0,c=h[a],f=c[f],W&&(d=W(c,f)),d&&("U"===l?E(a,"DU"):E(a,"D")))}M();r.render()}else k("Delete key: ignoring interim row (not yet committed)");break}}})}var r=this,d=m,f=O;m=P||{};var pa=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,
function(a){var b=16*Math.random()|0;return("x"===a?b:b&3|8).toString(16)})}(),da=m.dataSource||"",L=m.type||"LIST",y=m.flow||"PAGED",G=m.thumbsize||{X:100,Y:100},ka=m.imagefield||"",na=m.allowmultiselect||!1,ma=m.target||"",s=m.allowedit||!1,p=m.allowaddnew||!1,w=m.allowdelete||!1;O=m.readonly||!1;P=s||p||w;O&&(w=p=s=!1);var ha=!1!==m.allowsearch;if(P||O)ha=!1;P&&(y="EXPAND");var C=m.cbOnClick||null,K=m.cbOnDblClick||null,Z=m.cbOnOperation||null,J=m.cbGetDescription||null,U=m.cbLoadData||null,fa=
m.onRowUpdate||null,W=m.onRowDelete||null,ea=m.onRowAddNew||null,v=0,F=100,T="",D=[],x=null,Q=[],$=!1,n=-1,A=-1,q=null,z=null,N=[],l=[],h=[];this.render=function(a){var b="",b="GALLERY"===L?ra():qa();0<ma.length?d.element("#"+f,"."+ma).html(b):0<d.element("#"+f).length&&d.element("#"+f).html(b);setTimeout(function(){la();I();if(a){var b=d.element("#"+f,".ge-list-search");if(0<b.length){b.focus();var g=b.val();b.val("").val(g)}}},0);return b};this.refresh=function(a){S(function(){r.render(a)})};this.getSelectedID=
function(){return x};this.getSelectedRow=function(){var a=0,b=s||p||w?1:0,c=null;if(x)for(a=0;a<h.length;a++)if(h[a][b]===x){c=h[a];break}return c};this.setData=function(a){V(a);r.render()};this.getData=function(){return h};this.getDataChanges=function(){k("getDataChanges: checking "+h.length+" rows");for(var a=[],b=0,c="",b=0;b<h.length;b++)c=h[b][0],k("getDataChanges: row "+b+" status="+c),""!==c&&"I"!==c?(k("getDataChanges: including row "+b),a.push(h[b])):k("getDataChanges: excluding row "+b+
" (status="+c+")");k("getDataChanges: returning "+a.length+" rows");return a};this.CommitRows=function(){k("CommitRows: starting");0<=n&&(k("CommitRows: committing current edit at row "+n),Y());for(var a=0;a<h.length;){if("I"===H(a)&&(k("CommitRows: found interim row at "+a+", committing"),!X(a))){k("CommitRows: interim row "+a+" was rejected and removed");continue}a++}k("CommitRows: re-rendering");r.render()};m.initialData?(V(m.initialData),m=aa(),m>h.length&&U?(F=m,S(function(){r.render();I()})):
(F=m,r.render(),I())):da&&(F=aa(),S(function(){r.render();I()}))};
